/* Estava escrito no pipes2.c */
#include library.h

#define READ 0
#define WRITE 1

main(){
    int fd[2];
    char buffer[BUFSIZ]; //BUFSIZ = 1024
    pipe(fd);
    
    if(fork() == 0){
        while (read (fd[READ], buffer, BUFSIZ) > 0)
        write (1, buffer, strlen(buffer));
    }
    else {
                memset(buffer, 0 , BUFSIZ);
            while (read (0, buffer, BUFSIZ - 1) > 0){
                write(fd[WRITE], buffer, strlen(buffer) +1);
                memset (buffer, 0, BUFSIZ);
            }
    }
}